name: Deploy

on:
  workflow_call:
    inputs:
      environment:
        required: true
        type: string

jobs:
  deploy:
    name: deploy: release
    runs-on: ubuntu-latest
    environment: ${{ inputs.environment }}
    steps:
      - name: Deploy QA
        if: ${{ inputs.environment == 'dev' || inputs.environment == 'staging' }}
        run: echo "Deploying to QA (env: ${{ inputs.environment }})"

      - name: Deploy PROD
        if: ${{ inputs.environment == 'prod' }}
        run: echo "Deploying to Production"